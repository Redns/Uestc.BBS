<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="Uestc.BBS.WinUI.Views.Overlays.ApperanceSettingsOverlay"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:Uestc.BBS.WinUI.Views.Overlays"
    xmlns:local_converters="using:Uestc.BBS.WinUI.Converters"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    xmlns:viewmodels="using:Uestc.BBS.WinUI.ViewModels"
    d:DataContext="{d:DesignInstance Type=viewmodels:ApperanceSettingsViewModel}"
    mc:Ignorable="d">

    <Page.Resources>
        <local_converters:Enum2LabelConverter x:Key="Enum2LabelConverter" />
    </Page.Resources>

    <ScrollViewer Margin="10" VerticalScrollBarVisibility="Hidden">
        <StackPanel Spacing="5">
            <!--  颜色  -->
            <controls:SettingsCard
                Description="更改应用中显示的颜色"
                Header="主题"
                HeaderIcon="{ui:FontIcon Glyph=&#xE793;}">
                <ComboBox ItemsSource="{x:Bind ThemeColors}" SelectedItem="{x:Bind ViewModel.ApperanceSettingModel.ThemeColor, Mode=TwoWay}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Converter={StaticResource Enum2LabelConverter}}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </controls:SettingsCard>
            <!--  导航栏  -->
            <controls:SettingsCard
                Description="是否显示顶部导航栏（我的收藏/发布/回复/插眼）"
                Header="顶部导航栏"
                HeaderIcon="{ui:FontIcon Glyph=&#xF596;}">
                <ToggleSwitch IsOn="{x:Bind ViewModel.ApperanceSettingModel.IsTopNavigateBarEnabled, Mode=TwoWay}" />
            </controls:SettingsCard>
            <!--  搜索栏  -->
            <controls:SettingsExpander
                Description="每日一句、搜索历史"
                Header="搜索栏"
                HeaderIcon="{ui:FontIcon Glyph=&#xE721;}">
                <controls:SettingsExpander.Items>
                    <controls:SettingsCard Description="关闭后不会清除现有搜索记录" Header="搜索历史">
                        <ToggleSwitch IsOn="{x:Bind ViewModel.ApperanceSettingModel.SearchBar.IsSearchHistoryEnabled, Mode=TwoWay}" />
                    </controls:SettingsCard>
                    <controls:SettingsCard Description="数据从旧版河畔首页抓取" Header="每日一句">
                        <ToggleSwitch IsOn="{x:Bind ViewModel.ApperanceSettingModel.SearchBar.IsDailySentenceEnabled, Mode=TwoWay}" />
                    </controls:SettingsCard>
                    <controls:SettingsCard
                        Description="轮询获取每日一句的周期"
                        Header="更新间隔"
                        IsEnabled="{x:Bind ViewModel.ApperanceSettingModel.SearchBar.IsDailySentenceEnabled, Mode=OneWay}">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <NumberBox
                                Maximum="3600"
                                Minimum="10"
                                Value="{x:Bind ViewModel.ApperanceSettingModel.SearchBar.DailySentenceUpdateTimeInterval, Mode=TwoWay}" />
                            <TextBlock VerticalAlignment="Center" Text="秒" />
                        </StackPanel>
                    </controls:SettingsCard>
                </controls:SettingsExpander.Items>
            </controls:SettingsExpander>
            <controls:SettingsExpander
                Description="启用、关闭或调整导航区块"
                Header="侧边导航栏"
                HeaderIcon="{ui:FontIcon Glyph=&#xE700;}">
                <controls:SettingsExpander.Items />
            </controls:SettingsExpander>
            <!--  板块 Tab 栏  -->
            <controls:SettingsExpander
                Description="主题列表宽度、瀑布流"
                Header="首页 Tab 栏"
                HeaderIcon="{ui:FontIcon Glyph=&#xE737;}">
                <controls:SettingsExpander.Items>
                    <controls:SettingsCard Description="以交错的方式显示主题" Header="启用瀑布流">
                        <ToggleSwitch IsOn="{x:Bind ViewModel.ApperanceSettingModel.BoardTab.IsStaggeredLayoutEnabled, Mode=TwoWay}" />
                    </controls:SettingsCard>
                    <controls:SettingsCard Description="拖动首页主题列表右侧基线可快速调整" Header="主题列表宽度">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock VerticalAlignment="Center" Text="{x:Bind ViewModel.ApperanceSettingModel.BoardTab.Width, Mode=OneWay}" />
                            <Slider
                                Width="160"
                                Maximum="1000"
                                Minimum="200"
                                Value="{x:Bind ViewModel.ApperanceSettingModel.BoardTab.Width, Mode=TwoWay}" />
                        </StackPanel>
                    </controls:SettingsCard>
                </controls:SettingsExpander.Items>
            </controls:SettingsExpander>
        </StackPanel>
    </ScrollViewer>
</Page>
