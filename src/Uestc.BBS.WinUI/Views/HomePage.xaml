<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="Uestc.BBS.WinUI.Views.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:forum="using:Uestc.BBS.Core.Services.Api.Forum"
    xmlns:local_controls="using:Uestc.BBS.WinUI.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    mc:Ignorable="d">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Grid Margin="10,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <SelectorBar Grid.Column="0" HorizontalAlignment="Center">
                <SelectorBarItem
                    Margin="-3,0"
                    IsSelected="True"
                    Text="最新发表" />
                <SelectorBarItem Margin="-3,0" Text="最新回复" />
                <SelectorBarItem Margin="-3,0" Text="热门" />
                <SelectorBarItem Margin="-3,0" Text="精华" />
                <SelectorBarItem Margin="-3,0" Text="淘专辑" />
            </SelectorBar>
            <ScrollViewer
                Grid.Row="1"
                Margin="0,10"
                VerticalScrollBarVisibility="Hidden">
                <ItemsRepeater ItemsSource="{x:Bind ViewModel.BoardTabItems[0].Topics}">
                    <ItemsRepeater.Layout>
                        <StackLayout Spacing="10" />
                    </ItemsRepeater.Layout>
                    <ItemsRepeater.ItemTemplate>
                        <DataTemplate x:DataType="forum:TopicOverview">
                            <local_controls:TopicOverview
                                Title="{x:Bind Title}"
                                Avatar="{x:Bind UserAvatar}"
                                BoardName="{x:Bind BoardName}"
                                Date="{x:Bind DateTime}"
                                Likes="{x:Bind Likes}"
                                PreviewSource="{x:Bind PreviewSource}"
                                Replies="{x:Bind Replies}"
                                Subject="{x:Bind Subject}"
                                Username="{x:Bind UserNickName}"
                                Views="{x:Bind Views}" />
                        </DataTemplate>
                    </ItemsRepeater.ItemTemplate>
                </ItemsRepeater>
            </ScrollViewer>
        </Grid>

        <StackPanel Grid.Column="1">
            <local_controls:PersonProfile
                Name="Redns"
                MaxWidth="300"
                Avatar="https://bbs.uestc.edu.cn/uc_server/data/avatar/000/25/68/25_avatar_big.jpg"
                Group="成电校友"
                Level="8"
                Signature="早熟的人通常都晚熟，骄傲的人又很急性" />
        </StackPanel>
    </Grid>
</Page>
